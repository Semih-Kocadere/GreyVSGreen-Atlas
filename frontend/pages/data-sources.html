<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="icon" type="image/png" href="../images/favicon.png"/>
<title>Veri KaynaklarÄ± â€” Greygreen</title>

<!-- 
  ============================================================================
  VERÄ° KAYNAKLARI SAYFASI
  ============================================================================
  
  AÃ§Ä±klama:
    Projede kullanÄ±lan veri kaynaklarÄ±nÄ± listeler ve yÃ¶netir.
    Uydu gÃ¶rÃ¼ntÃ¼leri, aÃ§Ä±k veri portallarÄ±, sensÃ¶r verileri gibi
    farklÄ± kaynaklardan gelen verilerin durumunu gÃ¶sterir.
  
  Ã–zellikler:
    - Veri kaynaÄŸÄ± kartlarÄ± (aktif/pasif durumu)
    - Son gÃ¼ncelleme zamanlarÄ±
    - Veri kalitesi gÃ¶stergeleri
    - Kaynak ekleme/dÃ¼zenleme/silme iÅŸlemleri
    - Ä°statistikler (toplam kayÄ±t, veri boyutu)
  
  Veri KaynaklarÄ±:
    1. Sentinel-2 (ESA Copernicus - 10m multispectral)
    2. Landsat 8/9 (NASA/USGS - 30m historical)
    3. Dynamic World (Google Earth Engine - 10m land-cover)
    4. ESA WorldCover (ESA - 10m global land-cover)
    5. Ä°BB AÃ§Ä±k Veri PortalÄ± (Yerel veriler)
  
  ============================================================================
-->

<!-- Ortak CSS -->
<link rel="stylesheet" href="/css/common.css">
<!-- Data-sources'a Ã–zel CSS -->
<link rel="stylesheet" href="/css/data-sources.css">
</head>
<body>

<!-- Top Bar -->
<header class="topbar">
  <div class="topbar-left">
    <button class="sidebar-toggle" id="sidebar-toggle" title="Sidebar AÃ§/Kapat">â˜°</button>
    <div class="topbar-brand" onclick="location.href='/dashboard.html'">ğŸŒ Grey vs Green Atlas</div>
  </div>
  <div class="topbar-right">
    <button class="topbar-btn">ğŸ”” <span>3</span></button>
    <div class="topbar-user">
      <span>ğŸ‘¤</span>
      <span id="who">YÃ¼kleniyor...</span>
    </div>
    <button class="topbar-logout" id="logout">
      <span>ğŸšª</span>
      <span>Ã‡Ä±kÄ±ÅŸ</span>
    </button>
  </div>
</header>

<!-- Layout -->
<div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-resizer" id="sidebar-resizer"></div>
    
    <!-- Ana MenÃ¼ -->
    <div class="sidebar-section">
      <div class="sidebar-title">Ana MenÃ¼</div>
      <nav class="nav">
        <a href="/dashboard.html">
          <span>ğŸ“Š</span>
          <span>Dashboard</span>
        </a>
        <a href="/map.html">
          <span>ğŸ—ºï¸</span>
          <span>Harita</span>
        </a>
        <a href="/istanbul-detail.html">
          <span>ğŸ”¬</span>
          <span>Ä°stanbul Detay</span>
        </a>
      </nav>
    </div>
    
    <!-- Veri YÃ¶netimi -->
    <div class="sidebar-section">
      <div class="sidebar-title">Veri YÃ¶netimi</div>
      <nav class="nav">
        <a href="/data-sources.html" class="active">
          <span>ğŸ›°ï¸</span>
          <span>Veri KaynaklarÄ±</span>
        </a>
        <a href="/data-upload.html">
          <span>ğŸ“¤</span>
          <span>Veri Setleri</span>
        </a>
        <a href="/reports.html">
          <span>ğŸ§¾</span>
          <span>Raporlar</span>
        </a>
      </nav>
    </div>
    
    <!-- Sistem -->
    <div class="sidebar-section">
      <div class="sidebar-title">Sistem</div>
      <nav class="nav">
        <a href="/settings.html">
          <span>âš™ï¸</span>
          <span>Ayarlar</span>
        </a>
      </nav>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main">
    <div class="header">
      <h1>ğŸŒ Veri KaynaklarÄ±</h1>
      <p>Projede kullanÄ±lan veri kaynaklarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyin ve yÃ¶netin</p>
    </div>

    <!-- Stats Overview -->
    <div class="stats-overview">
      <div class="stat-box">
        <div class="stat-box-icon">ğŸ›°ï¸</div>
        <div class="stat-box-value">5</div>
        <div class="stat-box-label">Veri KaynaÄŸÄ±</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-icon">âœ…</div>
        <div class="stat-box-value">4</div>
        <div class="stat-box-label">Aktif Kaynak</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-icon">ğŸ’¾</div>
        <div class="stat-box-value">2.2 TB</div>
        <div class="stat-box-label">Toplam Veri</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-icon">ğŸ”„</div>
        <div class="stat-box-value">1</div>
        <div class="stat-box-label">Senkronizasyon</div>
      </div>
    </div>

    <!-- Sources Grid -->
    <div class="sources-grid">
      
      <!-- Sentinel-2 -->
      <div class="source-card" data-source="sentinel2">
        <div class="source-status status-active">âœ“ Aktif</div>
        <div class="source-header">
          <div class="source-icon">ğŸ›°ï¸</div>
          <div class="source-info">
            <div class="source-name">Sentinel-2 (ESA Copernicus)</div>
            <div class="source-type">10m Multispectral Imagery</div>
            <a href="https://scihub.copernicus.eu/" target="_blank" class="source-url" title="ESA Copernicus Data Hub">
              ğŸ”— scihub.copernicus.eu
            </a>
          </div>
        </div>
        <div class="source-description">
          ESA Copernicus programÄ± kapsamÄ±nda <strong>10m Ã§Ã¶zÃ¼nÃ¼rlÃ¼klÃ¼</strong> Ã§ok bantlÄ± uydu gÃ¶rÃ¼ntÃ¼leri. 
          <strong>NDVI (vejetasyon), NDWI (su), NDBI (yapÄ±laÅŸma)</strong> indekslerinin hesaplanmasÄ± iÃ§in temel kaynak. 
          YeÅŸil alanlar, gri bÃ¶lgeler ve su yÃ¼zeylerinin piksel dÃ¼zeyinde ayrÄ±mÄ±nda kullanÄ±lÄ±yor.
        </div>
        <div class="source-stats">
          <div class="source-stat">
            <div class="source-stat-label">Son GÃ¼ncelleme</div>
            <div class="source-stat-value" data-field="lastUpdate">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Veri Boyutu</div>
            <div class="source-stat-value" data-field="dataSize">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">GÃ¶rÃ¼ntÃ¼ SayÄ±sÄ±</div>
            <div class="source-stat-value" data-field="imageCount">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k</div>
            <div class="source-stat-value">10m/piksel</div>
          </div>
        </div>
        <div class="source-actions">
          <button class="btn btn-primary" title="ESA Copernicus'tan yeni gÃ¶rÃ¼ntÃ¼leri indir">ğŸ”„ Senkronize Et</button>
          <button class="btn btn-secondary">âš™ï¸ Ayarlar</button>
        </div>
      </div>

      <!-- Landsat 8/9 -->
      <div class="source-card" data-source="landsat">
        <div class="source-status status-syncing">â³ Senkronize Ediliyor</div>
        <div class="source-header">
          <div class="source-icon">ğŸ“¡</div>
          <div class="source-info">
            <div class="source-name">Landsat 8/9 (NASA/USGS)</div>
            <div class="source-type">30m Historical Imagery</div>
            <a href="https://earthexplorer.usgs.gov/" target="_blank" class="source-url" title="USGS Earth Explorer">
              ğŸ”— earthexplorer.usgs.gov
            </a>
          </div>
        </div>
        <div class="source-description">
          <strong>Uzun dÃ¶nem analizi (2018-2024)</strong> iÃ§in kullanÄ±lan NASA/USGS uydu gÃ¶rÃ¼ntÃ¼leri. 
          Sentinel'e gÃ¶re daha dÃ¼ÅŸÃ¼k Ã§Ã¶zÃ¼nÃ¼rlÃ¼kte (30m) ancak <strong>zaman serisi istikrarlÄ±</strong> ve uzun sÃ¼reli trendlerin tespitinde kritik. 
          GeÃ§miÅŸ 6 yÄ±llÄ±k vejetasyon deÄŸiÅŸimlerini izlemek iÃ§in vazgeÃ§ilmez kaynak.
        </div>
        <div class="source-stats">
          <div class="source-stat">
            <div class="source-stat-label">Tarih AralÄ±ÄŸÄ±</div>
            <div class="source-stat-value" data-field="dateRange">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Veri Boyutu</div>
            <div class="source-stat-value" data-field="dataSize">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">GÃ¶rÃ¼ntÃ¼ SayÄ±sÄ±</div>
            <div class="source-stat-value" data-field="imageCount">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Senkronizasyon</div>
            <div class="source-stat-value" data-field="syncProgress">YÃ¼kleniyor...</div>
          </div>
        </div>
        <div class="source-actions">
          <button class="btn btn-danger" title="Senkronizasyonu durdur">â¸ï¸ Duraklat</button>
          <button class="btn btn-secondary">âš™ï¸ Ayarlar</button>
        </div>
      </div>

      <!-- Dynamic World -->
      <div class="source-card" data-source="dynamicworld">
        <div class="source-status status-active">âœ“ Aktif</div>
        <div class="source-header">
          <div class="source-icon">ğŸŒ</div>
          <div class="source-info">
            <div class="source-name">Dynamic World (Google Earth Engine)</div>
            <div class="source-type">10m Global Land-Cover</div>
            <a href="https://www.dynamicworld.app/" target="_blank" class="source-url" title="Dynamic World Platform">
              ğŸ”— dynamicworld.app
            </a>
          </div>
        </div>
        <div class="source-description">
          <strong>Piksel dÃ¼zeyinde arazi Ã¶rtÃ¼sÃ¼ sÄ±nÄ±flarÄ±</strong> (vegetation, built-up, water, crops, trees vb.). 
          Model etiketleri <strong>(ground-truth)</strong> oluÅŸturmakta ve trend kontrolÃ¼nde referans olarak kullanÄ±lÄ±yor. 
          Google Earth Engine Ã¼zerinden real-time eriÅŸim ile gÃ¼ncel veriler saÄŸlanÄ±yor.
        </div>
        <div class="source-stats">
          <div class="source-stat">
            <div class="source-stat-label">Son GÃ¼ncelleme</div>
            <div class="source-stat-value" data-field="lastUpdate">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k</div>
            <div class="source-stat-value">10m/piksel</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">SÄ±nÄ±f SayÄ±sÄ±</div>
            <div class="source-stat-value">9 sÄ±nÄ±f</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">GÃ¼ncellik</div>
            <div class="source-stat-value" data-field="coverage">YÃ¼kleniyor...</div>
          </div>
        </div>
        <div class="source-actions">
          <button class="btn btn-primary" title="Earth Engine'den gÃ¼ncel katmanlarÄ± Ã§ek">ğŸ”„ Senkronize Et</button>
          <button class="btn btn-secondary">âš™ï¸ Ayarlar</button>
        </div>
      </div>

      <!-- ESA WorldCover -->
      <div class="source-card" data-source="dynamicworld">
        <div class="source-status status-active">âœ“ Aktif</div>
        <div class="source-header">
          <div class="source-icon">ğŸ—ºï¸</div>
          <div class="source-info">
            <div class="source-name">ESA WorldCover</div>
            <div class="source-type">10m Global Land-Cover</div>
            <a href="https://worldcover2021.esa.int/" target="_blank" class="source-url" title="ESA WorldCover Portal">
              ğŸ”— worldcover2021.esa.int
            </a>
          </div>
        </div>
        <div class="source-description">
          <strong>Sentinel tabanlÄ± kÃ¼resel arazi Ã¶rtÃ¼sÃ¼ haritasÄ±</strong>. 
          Dynamic World ile kÄ±yaslama ve doÄŸrulama iÃ§in kullanÄ±lÄ±yor. 
          ESA tarafÄ±ndan yÄ±llÄ±k olarak gÃ¼ncellenen <strong>referans veri seti</strong> (baseline for validation).
        </div>
        <div class="source-stats">
          <div class="source-stat">
            <div class="source-stat-label">Son GÃ¼ncelleme</div>
            <div class="source-stat-value" data-field="lastUpdate">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k</div>
            <div class="source-stat-value">10m/piksel</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Veri YÄ±lÄ±</div>
            <div class="source-stat-value">2021</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Global DoÄŸruluk</div>
            <div class="source-stat-value">74.4%</div>
          </div>
        </div>
        <div class="source-actions">
          <button class="btn btn-primary" title="ESA'dan gÃ¼ncel WorldCover katmanlarÄ±nÄ± indir">ğŸ”„ Senkronize Et</button>
          <button class="btn btn-secondary">âš™ï¸ Ayarlar</button>
        </div>
      </div>

      <!-- Ä°BB AÃ§Ä±k Veri PortalÄ± -->
      <div class="source-card" data-source="ibb">
        <div class="source-status status-active">âœ“ Aktif</div>
        <div class="source-header">
          <div class="source-icon">ğŸ›ï¸</div>
          <div class="source-info">
            <div class="source-name">Ä°BB AÃ§Ä±k Veri PortalÄ±</div>
            <div class="source-type">Yerel Veri KaynaÄŸÄ±</div>
            <a href="https://data.ibb.gov.tr/" target="_blank" class="source-url" title="Ä°BB AÃ§Ä±k Veri PortalÄ±">
              ğŸ”— data.ibb.gov.tr
            </a>
          </div>
        </div>
        <div class="source-description">
          Ä°stanbul BÃ¼yÃ¼kÅŸehir Belediyesi'nin aÃ§Ä±k veri platformu. 
          Park alanlarÄ±, yeÅŸil alan istatistikleri, nÃ¼fus verileri ve ÅŸehir envanter bilgileri. 
          <strong>Ground-truth doÄŸrulama</strong> ve lokal detay iÃ§in kullanÄ±lÄ±yor.
        </div>
        <div class="source-stats">
          <div class="source-stat">
            <div class="source-stat-label">Son GÃ¼ncelleme</div>
            <div class="source-stat-value" data-field="lastUpdate">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Veri Boyutu</div>
            <div class="source-stat-value" data-field="dataSize">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">API Ã‡aÄŸrÄ±larÄ± (BugÃ¼n)</div>
            <div class="source-stat-value" data-field="apiCalls">YÃ¼kleniyor...</div>
          </div>
          <div class="source-stat">
            <div class="source-stat-label">Format</div>
            <div class="source-stat-value">GeoJSON, CSV</div>
          </div>
        </div>
        <div class="source-actions">
          <button class="btn btn-primary" title="Ä°BB API'den gÃ¼ncel verileri Ã§ek">ğŸ”„ Senkronize Et</button>
          <button class="btn btn-secondary">âš™ï¸ Ayarlar</button>
        </div>
      </div>

    </div>
  </main>
</div>

<!-- Add New Source Button -->
<button class="add-source-btn" title="Yeni Veri KaynaÄŸÄ± Ekle">+</button>

<script>
// ============================================================================
// KÄ°MLÄ°K DOÄRULAMA (Authentication)
// ============================================================================

const token = localStorage.getItem('token');
if (!token) {
  location.href = '/';
}

/**
 * KullanÄ±cÄ± bilgilerini getir ve gÃ¶ster
 */
async function whoami() {
  try {
    const response = await fetch('/me', {
      headers: { Authorization: `Bearer ${token}` }
    });
    
    if (!response.ok) {
      localStorage.removeItem('token');
      location.href = '/';
      return;
    }
    
    const user = await response.json();
    document.getElementById('who').textContent = user.email;
  } catch (error) {
    console.error('KullanÄ±cÄ± bilgisi alÄ±namadÄ±:', error);
    location.href = '/';
  }
}

whoami();


// ============================================================================
// Ã‡IKIÅ Ä°ÅLEMÄ° (Logout)
// ============================================================================

document.getElementById('logout').onclick = () => {
  localStorage.removeItem('token');
  location.href = '/';
};


// ============================================================================
// SIDEBAR Ä°ÅLEVLERÄ° (Sidebar Functions)
// ============================================================================

const sidebarToggle = document.getElementById('sidebar-toggle');
const sidebar = document.getElementById('sidebar');
let isCollapsed = false;

/**
 * Sidebar'Ä± aÃ§/kapat
 */
sidebarToggle.onclick = () => {
  isCollapsed = !isCollapsed;
  sidebar.classList.toggle('collapsed', isCollapsed);
  sidebarToggle.textContent = isCollapsed ? 'â˜°' : 'âœ•';
  sidebarToggle.title = isCollapsed ? 'Sidebar AÃ§' : 'Sidebar Kapat';
};

/**
 * Sidebar geniÅŸlik ayarlama (drag)
 */
const resizer = document.getElementById('sidebar-resizer');
let isResizing = false;
let startX = 0;
let startWidth = 0;

resizer.addEventListener('mousedown', (e) => {
  isResizing = true;
  startX = e.clientX;
  startWidth = sidebar.offsetWidth;
  document.body.style.cursor = 'col-resize';
  document.body.style.userSelect = 'none';
});

document.addEventListener('mousemove', (e) => {
  if (!isResizing) return;
  const diff = e.clientX - startX;
  const newWidth = Math.max(250, Math.min(600, startWidth + diff));
  sidebar.style.width = newWidth + 'px';
  document.documentElement.style.setProperty('--sidebar-width', newWidth + 'px');
});

document.addEventListener('mouseup', () => {
  if (!isResizing) return;
  isResizing = false;
  document.body.style.cursor = '';
  document.body.style.userSelect = '';
});


// ============================================================================
// VERÄ° KAYNAÄI Ä°ÅLEMLERÄ° (Data Source Actions)
// ============================================================================

/**
 * Yeni veri kaynaÄŸÄ± ekleme butonu
 */
document.querySelector('.add-source-btn').onclick = () => {
  alert('Yeni veri kaynaÄŸÄ± ekleme Ã¶zelliÄŸi yakÄ±nda eklenecek!');
  // TODO: Modal ile yeni kaynak ekleme formu
};

/**
 * Senkronizasyon butonlarÄ±
 * 
 * Senkronizasyon Ne Ä°ÅŸe Yarar?
 * ---------------------------
 * 1. Uzak kaynaktan (ESA Copernicus, Google Earth Engine, vb.) yeni verileri otomatik indirir
 * 2. GÃ¼ncellenen uydu gÃ¶rÃ¼ntÃ¼lerini ve land-cover katmanlarÄ±nÄ± sisteme ekler
 * 3. Veri tabanÄ±nÄ± en gÃ¼ncel hale getirir (Ã¶rn: 2024 Ocak -> 2024 Haziran)
 * 4. Trend analizleri ve zaman serisi modellemesi iÃ§in veri akÄ±ÅŸÄ±nÄ± besler
 * 5. NDVI, NDWI, NDBI gibi indeksleri yeniden hesaplar
 * 
 * Ã–rnek: Sentinel-2 senkronize edildiÄŸinde:
 * - Son 30 gÃ¼nÃ¼n gÃ¶rÃ¼ntÃ¼leri ESA API'den Ã§ekilir
 * - Cloud coverage %20'nin altÄ±ndaki gÃ¶rÃ¼ntÃ¼ler seÃ§ilir
 * - Otomatik preprocessing yapÄ±lÄ±r (atmosferik dÃ¼zeltme, maskeleme)
 * - PostgreSQL/PostGIS'e kaydedilir
 * - Ä°ndeksler hesaplanÄ±p analiz iÃ§in hazÄ±r hale getirilir
 */
document.querySelectorAll('.btn-primary').forEach(btn => {
  btn.onclick = function(e) {
    e.preventDefault();
    const sourceName = this.closest('.source-card').querySelector('.source-name').textContent;
    
    if (this.textContent.includes('Aktif Et')) {
      alert(`${sourceName} veri kaynaÄŸÄ± aktif edilecek...`);
      // TODO: API Ã§aÄŸrÄ±sÄ± ile kaynaÄŸÄ± aktif et
    } else {
      alert(`âœ… ${sourceName} senkronizasyonu baÅŸlatÄ±lÄ±yor...\n\n` +
            `ğŸ”„ Uzak sunucudan yeni veriler indiriliyor\n` +
            `ğŸ“Š Veri tabanÄ± gÃ¼ncelleniyor\n` +
            `ğŸ§® Ä°ndeksler yeniden hesaplanÄ±yor\n\n` +
            `Bu iÅŸlem birkaÃ§ dakika sÃ¼rebilir.`);
      // TODO: API Ã§aÄŸrÄ±sÄ± ile senkronizasyon baÅŸlat
      // fetch(`/api/sync/${sourceId}`, { method: 'POST' })
    }
  };
});

/**
 * Duraklat butonlarÄ±
 */
document.querySelectorAll('.btn-danger').forEach(btn => {
  btn.onclick = function(e) {
    e.preventDefault();
    const sourceName = this.closest('.source-card').querySelector('.source-name').textContent;
    
    if (confirm(`${sourceName} senkronizasyonu duraklatÄ±lsÄ±n mÄ±?`)) {
      alert('Senkronizasyon duraklatÄ±lÄ±yor...');
      // TODO: API Ã§aÄŸrÄ±sÄ± ile senkronizasyonu duraklat
    }
  };
});

/**
 * Ayarlar butonlarÄ±
 */
document.querySelectorAll('.btn-secondary').forEach(btn => {
  btn.onclick = function(e) {
    e.preventDefault();
    const sourceName = this.closest('.source-card').querySelector('.source-name').textContent;
    alert(`${sourceName} ayarlarÄ± aÃ§Ä±lacak...`);
    // TODO: Modal ile kaynak ayarlarÄ± formu
  };
});


// ============================================================================
// GERÃ‡EK ZAMANLI VERÄ° YÃœKLEME (Real-time Data Loading)
// ============================================================================

/**
 * GerÃ§ek zamanlÄ± olarak veri kaynaÄŸÄ± istatistiklerini gÃ¼ncelle
 * 
 * Normalde bu veriler backend API'den gelecek:
 * GET /api/data-sources -> [{id, name, stats: {lastUpdate, dataSize, ...}}]
 * 
 * Åimdilik simÃ¼le edilmiÅŸ verilerle Ã§alÄ±ÅŸÄ±yor.
 */
async function loadDataSourceStats() {
  // SimÃ¼le edilmiÅŸ veri (gerÃ§ek uygulamada API'den gelecek)
  const mockData = {
    sentinel2: {
      lastUpdate: '2 saat Ã¶nce',
      dataSize: '1.24 TB',
      imageCount: '492 gÃ¶rÃ¼ntÃ¼'
    },
    landsat: {
      dateRange: '2018-2024',
      dataSize: '867 GB',
      imageCount: '318 gÃ¶rÃ¼ntÃ¼',
      syncProgress: '71%'
    },
    dynamicworld: {
      lastUpdate: '12 dakika Ã¶nce',
      coverage: 'GÃ¼ncel (2024)'
    },
    worldcover: {
      lastUpdate: '5 gÃ¼n Ã¶nce'
    },
    ibb: {
      lastUpdate: '3 saat Ã¶nce',
      dataSize: '152 MB',
      apiCalls: '18,743'
    }
  };

  // Her kart iÃ§in verileri gÃ¼ncelle
  document.querySelectorAll('.source-card[data-source]').forEach(card => {
    const sourceId = card.getAttribute('data-source');
    const data = mockData[sourceId];
    
    if (!data) return;

    // Her data-field iÃ§in deÄŸerleri gÃ¼ncelle
    card.querySelectorAll('[data-field]').forEach(field => {
      const fieldName = field.getAttribute('data-field');
      if (data[fieldName]) {
        // Animasyonlu gÃ¼ncelleme
        field.style.opacity = '0.5';
        setTimeout(() => {
          field.textContent = data[fieldName];
          field.style.opacity = '1';
        }, 300);
      }
    });
  });

  console.log('âœ… Veri kaynaÄŸÄ± istatistikleri gÃ¼ncellendi');
}

// Sayfa yÃ¼klendiÄŸinde verileri yÃ¼kle
loadDataSourceStats();

// Her 30 saniyede bir verileri gÃ¼ncelle (gerÃ§ek zamanlÄ± simÃ¼lasyonu)
setInterval(loadDataSourceStats, 30000);

/**
 * GerÃ§ek API entegrasyonu iÃ§in:
 * 
 * async function loadDataSourceStats() {
 *   try {
 *     const response = await fetch('/api/data-sources/stats', {
 *       headers: { Authorization: `Bearer ${token}` }
 *     });
 *     
 *     if (!response.ok) throw new Error('Stats yÃ¼klenemedi');
 *     
 *     const sources = await response.json();
 *     
 *     sources.forEach(source => {
 *       const card = document.querySelector(`[data-source="${source.id}"]`);
 *       if (!card) return;
 *       
 *       Object.entries(source.stats).forEach(([key, value]) => {
 *         const field = card.querySelector(`[data-field="${key}"]`);
 *         if (field) field.textContent = value;
 *       });
 *     });
 *   } catch (error) {
 *     console.error('Veri kaynaÄŸÄ± istatistikleri yÃ¼klenemedi:', error);
 *   }
 * }
 */

</script>
</body>
</html>
